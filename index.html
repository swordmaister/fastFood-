<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ „é¤Šã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ (N+ & P)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --bg: #f8f9fa; --text: #333; --lp-color: #2ecc71; --trme-color: #f39c12; --meal-color: #3498db; --detail-bg: #e3f2fd; }
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background: var(--bg); color: var(--text); padding: 20px; line-height: 1.6; }
        .container { max-width: 900px; margin: auto; background: #fff; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        
        h2 { text-align: center; margin-bottom: 25px; color: #2c3e50; font-size: 1.6rem; }
        
        /* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« */
        .top-controls { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .card { padding: 15px; border: 1px solid #eee; border-radius: 8px; background: #fff; }
        label { display: block; font-weight: bold; margin-bottom: 8px; font-size: 0.9rem; color: #555; }
        select { width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc; font-size: 1rem; }
        
        /* ã‚°ãƒ©ãƒ• */
        .chart-box { position: relative; height: 550px; margin-bottom: 10px; }
        
        /* å‡¡ä¾‹ */
        .legend-info { text-align: center; font-size: 0.9rem; margin-bottom: 20px; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .dot { width: 12px; height: 12px; display: inline-block; border-radius: 3px; margin-right: 5px; }
        .red-line-legend { color: red; font-weight: bold; border-bottom: 2px dashed red; }

        /* ã‚µãƒ—ãƒªã‚¹ã‚¤ãƒƒãƒ */
        .bottom-controls { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px; }
        .switch-box { display: flex; align-items: center; justify-content: space-between; padding: 15px; border: 2px solid #eee; border-radius: 10px; cursor: pointer; transition: 0.2s; }
        .switch-box:hover { background: #fafafa; }
        .switch-box input { width: 22px; height: 22px; cursor: pointer; }
        .lp-active { border-color: var(--lp-color); background: #f0fff4 !important; }
        .trme-active { border-color: var(--trme-color); background: #fef9e7 !important; }

        /* è©³ç´°ãƒœã‚¿ãƒ³ã¨ã‚¨ãƒªã‚¢ */
        .detail-btn { display: block; width: 100%; padding: 15px; background: #2c3e50; color: white; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; text-align: center; margin-top: 20px; transition: 0.3s; }
        .detail-btn:hover { background: #34495e; }
        
        .detail-content { display: none; margin-top: 20px; padding: 20px; background: var(--detail-bg); border-radius: 10px; border-left: 5px solid #2196F3; }
        .detail-content h3 { margin-top: 0; color: #1565C0; font-size: 1.2rem; }
        .detail-item { margin-bottom: 15px; }
        .badge-safe { background: #4CAF50; color: white; padding: 3px 8px; border-radius: 4px; font-size: 0.8rem; vertical-align: middle; }

        .analysis-box { padding: 20px; background: #fff8e1; border-left: 6px solid #f1c40f; border-radius: 6px; line-height: 1.6; font-size: 0.95rem; margin-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ“Š æ „é¤Šãƒãƒ©ãƒ³ã‚¹ãƒ»ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h2>

    <div class="top-controls">
        <div class="card">
            <label>ğŸ‘¤ 1. å¯¾è±¡ãƒ‡ãƒ¼ã‚¿ (å¹´é½¢ãƒ»æ€§åˆ¥)</label>
            <div style="display:flex; gap:10px;">
                <select id="gender" onchange="update()">
                    <option value="male" selected>ç”·æ€§</option>
                    <option value="female">å¥³æ€§</option>
                </select>
                <select id="age" onchange="update()">
                    <option value="18" selected>18-29æ­³</option>
                    <option value="30">30-49æ­³</option>
                    <option value="50">50-64æ­³</option>
                </select>
            </div>
        </div>
        <div class="card">
            <label>ğŸ± 2. é£Ÿäº‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼</label>
            <select id="meal" onchange="update()">
                <option value="none">ï¼ˆæœªé¸æŠï¼‰</option>
                <option value="mcdonalds">ãƒãƒƒã‚¯ã‚»ãƒƒãƒˆ</option>
                <option value="pasta">ãƒ‘ã‚¹ã‚¿ (ãƒŸãƒ¼ãƒˆã‚½ãƒ¼ã‚¹)</option>
                <option value="gyudon">ç‰›ä¸¼ (ä¸¦ç››)</option>
                <option value="cupnoodle">ã‚«ãƒƒãƒ—ãƒ©ãƒ¼ãƒ¡ãƒ³</option>
                <option value="onigiri">ãŠã«ãã‚Š (1å€‹)</option>
                <option value="chocolate">ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ (50g)</option>
            </select>
        </div>
    </div>

    <div class="chart-box">
        <canvas id="nutrientChart"></canvas>
    </div>
    
    <div class="legend-info">
        <span><span class="dot" style="background:var(--meal-color);"></span>é£Ÿäº‹</span>
        <span><span class="dot" style="background:var(--lp-color);"></span>ãƒãƒ«ãƒãƒ“ã‚¿ãƒŸãƒ³N+</span>
        <span><span class="dot" style="background:var(--trme-color);"></span>ã‚¹ãƒ ãƒ¼ã‚¸ãƒ¼P</span>
        <span class="red-line-legend">---- 1é£Ÿåˆ†ã‚’100%ã¨ã—ã¦ ----</span>
    </div>

    <div class="bottom-controls">
        <div class="switch-box" id="lpCard" onclick="toggleCheck('lpCheck')">
            <div>
                <strong>ãƒãƒ«ãƒãƒ“ã‚¿ãƒŸãƒ³N+</strong><br>
                <small style="color:#666;">1è¢‹åˆ† (ãƒ“ã‚¿ãƒŸãƒ³ãƒ»ãƒŸãƒãƒ©ãƒ«)</small>
            </div>
            <input type="checkbox" id="lpCheck" onclick="event.stopPropagation(); update();">
        </div>
        
        <div class="switch-box" id="trmeCard" onclick="toggleCheck('trmeCheck')">
            <div>
                <strong>ã‚¹ãƒ ãƒ¼ã‚¸ãƒ¼P</strong><br>
                <small style="color:#666;">1å›åˆ† (ãŸã‚“ã±ãè³ª+10g)</small>
            </div>
            <input type="checkbox" id="trmeCheck" onclick="event.stopPropagation(); update();">
        </div>
    </div>

    <div id="analysis" class="analysis-box">
        é£Ÿäº‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚
    </div>

    <button class="detail-btn" onclick="toggleDetails()">â„¹ï¸ æ „é¤Šç´ ã®è©³ç´°è§£èª¬ã‚’è¦‹ã‚‹ (éå‰°æ‘‚å–ã«ã¤ã„ã¦)</button>

    <div id="detailSection" class="detail-content">
        <h3>ğŸ’¡ 100%ã‚’è¶…ãˆã¦ã‚‚å¤§ä¸ˆå¤«ï¼Ÿ æ „é¤Šã®çœŸå®Ÿ</h3>
        
        <div class="detail-item">
            <strong>âœ… ãƒ“ã‚¿ãƒŸãƒ³Bç¾¤ãƒ»CãŒçªãæŠœã‘ã¦ã„ã‚‹ç†ç”± <span class="badge-safe">å®‰å…¨</span></strong>
            <p>ã“ã‚Œã‚‰ã¯ã€Œæ°´æº¶æ€§ãƒ“ã‚¿ãƒŸãƒ³ã€ã§ã™ã€‚ä½“ã®ä¸­ã«é•·æ™‚é–“ç•™ã‚ã¦ãŠãã“ã¨ãŒã§ããªã„ãŸã‚ã€ä¸€åº¦ã«ãŸãã•ã‚“æ‘‚å–ã—ã¦ã€ä½“ãŒå¿…è¦ãªåˆ†ã ã‘å¸åã—ã€<strong>ä½™ã£ãŸåˆ†ã¯æ•°æ™‚é–“ã§å°¿ã¨ã—ã¦æ’å‡º</strong>ã•ã‚Œã¾ã™ã€‚<br>
            ã€Œéå‰°æ‘‚å–ã€ã«ã¯ãªã‚‰ãšã€ã‚€ã—ã‚å¸¸ã«æº€ã‚¿ãƒ³ã«ã—ã¦ãŠãã“ã¨ã§ã€é£Ÿã¹ãŸã‚‚ã®ã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«ã‚¨ãƒãƒ«ã‚®ãƒ¼ã«å¤‰ãˆã‚‹ï¼ˆä»£è¬ã™ã‚‹ï¼‰ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
        </div>

        <div class="detail-item">
            <strong>âœ… è„‚æº¶æ€§ãƒ“ã‚¿ãƒŸãƒ³ãƒ»ãƒŸãƒãƒ©ãƒ«ã«ã¤ã„ã¦ <span class="badge-safe">è¨­è¨ˆæ¸ˆã¿</span></strong>
            <p>ãƒ“ã‚¿ãƒŸãƒ³Aãƒ»Dã‚„ãƒŸãƒãƒ©ãƒ«é¡ã¯ã€ä½“ã«è“„ç©ã™ã‚‹ãŸã‚æ‘‚ã‚Šã™ãã«æ³¨æ„ãŒå¿…è¦ã§ã™ãŒã€ãƒãƒ«ãƒãƒ“ã‚¿ãƒŸãƒ³N+ã¯<strong>ã€Œè€å®¹ä¸Šé™é‡ï¼ˆULï¼‰ã€ã‚’è¶…ãˆãªã„å®‰å…¨ãªç¯„å›²</strong>ã§è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚<br>
            é£Ÿäº‹ã¨åˆã‚ã›ã¦ã‚‚å¥åº·è¢«å®³ãŒå‡ºãªã„ã‚ˆã†è¨ˆç®—ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å®‰å¿ƒã—ã¦ãŠé£²ã¿ã„ãŸã ã‘ã¾ã™ã€‚</p>
        </div>

        <div class="detail-item">
            <strong>âš ï¸ æ³¨æ„ãŒå¿…è¦ãªã®ã¯ã€Œä¸Šæ®µã€ã®é …ç›®</strong>
            <p>ã‚°ãƒ©ãƒ•ä¸Šéƒ¨ã®ã€Œã‚¨ãƒãƒ«ã‚®ãƒ¼ã€ã€Œè„‚è³ªã€ã€Œå¡©åˆ†ã€ãªã©ãŒ100%ã‚’å¤§ããè¶…ãˆã¦ã„ã‚‹å ´åˆã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚ã“ã‚Œã‚‰ã¯æ’å‡ºã•ã‚Œã«ããã€è„‚è‚ªã¨ã—ã¦è“„ç©ã•ã‚Œã¾ã™ã€‚ã‚µãƒ—ãƒªã§ãƒ“ã‚¿ãƒŸãƒ³ï¼ˆä¸‹æ®µï¼‰ã‚’è£œã„ã€ä»£è¬ã‚’åŠ©ã‘ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚</p>
        </div>
    </div>

</div>

<script>
// --- åŸºæº–å€¤ãƒ‡ãƒ¼ã‚¿ (18-29æ­³ç”·æ€§ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ) ---
const RDA = {
    male: { 
        18: {cal:883, fat:25, carb:110, salt:2.5, protein:22, vitB1:0.47, vitB2:0.53, vitD:2.8, Ca:266, Mg:113, Zn:3.6, Fe:2.5}, 
        30: {cal:900, fat:25, carb:115, salt:2.5, protein:22, vitB1:0.47, vitB2:0.53, vitD:3.0, Ca:250, Mg:123, Zn:3.6, Fe:2.5},
        50: {cal:866, fat:24, carb:110, salt:2.5, protein:22, vitB1:0.43, vitB2:0.50, vitD:3.0, Ca:250, Mg:116, Zn:3.3, Fe:2.5} 
    },
    female: { 
        18: {cal:650, fat:18, carb:85, salt:2.1, protein:17, vitB1:0.37, vitB2:0.40, vitD:2.8, Ca:216, Mg:90, Zn:2.6, Fe:3.5},
        30: {cal:683, fat:19, carb:90, salt:2.2, protein:17, vitB1:0.37, vitB2:0.40, vitD:3.0, Ca:216, Mg:96, Zn:2.6, Fe:3.5},
        50: {cal:650, fat:18, carb:85, salt:2.2, protein:17, vitB1:0.37, vitB2:0.40, vitD:3.0, Ca:216, Mg:96, Zn:2.6, Fe:2.2} 
    }
};

// --- é£Ÿå“ãƒ‡ãƒ¼ã‚¿ ---
const foods = {
    none: {cal:0, fat:0, carb:0, salt:0, protein:0, vitB1:0, vitB2:0, vitD:0, Ca:0, Mg:0, Zn:0, Fe:0},
    mcdonalds: {cal:1100, fat:52, carb:130, salt:3.5, protein:30, vitB1:0.2, vitB2:0.3, vitD:0.5, Ca:150, Mg:40, Zn:3.0, Fe:2.0},
    pasta: {cal:700, fat:20, carb:100, salt:3.8, protein:18, vitB1:0.1, vitB2:0.1, vitD:0, Ca:30, Mg:25, Zn:1.5, Fe:1.2},
    gyudon: {cal:730, fat:25, carb:95, salt:2.7, protein:20, vitB1:0.1, vitB2:0.15, vitD:0.1, Ca:30, Mg:30, Zn:2.5, Fe:1.5},
    cupnoodle: {cal:350, fat:15, carb:45, salt:4.8, protein:10, vitB1:0.3, vitB2:0.3, vitD:0, Ca:100, Mg:20, Zn:0.8, Fe:1.0},
    onigiri: {cal:180, fat:0.5, carb:40, salt:1.0, protein:4, vitB1:0.04, vitB2:0.03, vitD:0.5, Ca:10, Mg:15, Zn:0.5, Fe:0.3},
    chocolate: {cal:280, fat:17, carb:28, salt:0.1, protein:3.5, vitB1:0.04, vitB2:0.1, vitD:0.2, Ca:110, Mg:30, Zn:0.7, Fe:0.8}
};

// --- ã‚µãƒ—ãƒªãƒ‡ãƒ¼ã‚¿ ---
const lpData = {cal:0, fat:0, carb:0, salt:0, protein:0.5, vitB1:5, vitB2:5, vitD:10, Ca:200, Mg:100, Zn:5, Fe:1.5};
const trmeData = {cal:85, fat:1, carb:10, salt:0.1, protein:10, vitB1:0.3, vitB2:0.3, vitD:1.5, Ca:80, Mg:40, Zn:1.5, Fe:1.0};

const labels = ['âš¡ï¸ã‚¨ãƒãƒ«ã‚®ãƒ¼', 'ğŸ›¢ è„‚è³ª', 'ğŸš ç‚­æ°´åŒ–ç‰©', 'ğŸ§‚ å¡©åˆ†', 'ğŸ’ª ãŸã‚“ã±ãè³ª', 'ğŸ”¥ ãƒ“ã‚¿ãƒŸãƒ³B1', 'ğŸ”¥ ãƒ“ã‚¿ãƒŸãƒ³B2', 'â˜€ï¸ ãƒ“ã‚¿ãƒŸãƒ³D', 'ğŸ¦´ ã‚«ãƒ«ã‚·ã‚¦ãƒ ', 'âš™ï¸ ãƒã‚°ãƒã‚·ã‚¦ãƒ ', 'ğŸ›¡ äºœé‰›', 'ğŸ©¸ é‰„'];
const keys = ['cal', 'fat', 'carb', 'salt', 'protein', 'vitB1', 'vitB2', 'vitD', 'Ca', 'Mg', 'Zn', 'Fe'];

let chart;

function init() {
    const ctx = document.getElementById('nutrientChart').getContext('2d');
    chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [
                { label: 'é£Ÿäº‹', data: [], backgroundColor: '#3498db', stack: 'Stack 0' },
                { label: 'ãƒãƒ«ãƒãƒ“ã‚¿ãƒŸãƒ³N+', data: [], backgroundColor: '#2ecc71', stack: 'Stack 0' },
                { label: 'ã‚¹ãƒ ãƒ¼ã‚¸ãƒ¼P', data: [], backgroundColor: '#f39c12', stack: 'Stack 0' }
            ]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                mode: 'index', 
                intersect: false, 
            },
            scales: {
                x: { stacked: true, max: 400, ticks: { callback: v => v + '%' } },
                y: { stacked: true }
            },
            plugins: {
                legend: { display: false },
                annotation: {
                    annotations: {
                        line1: { type: 'line', xMin: 100, xMax: 100, borderColor: 'red', borderWidth: 2, borderDash: [5, 5] }
                    }
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.x !== null) {
                                label += Math.round(context.parsed.x) + '%';
                            }
                            return label;
                        },
                        footer: function(tooltipItems) {
                            let sum = 0;
                            tooltipItems.forEach(function(tooltipItem) {
                                sum += tooltipItem.parsed.x;
                            });
                            return 'â”â”â”â”â”â”â”â”\nåˆè¨ˆ: ' + Math.round(sum) + '%';
                        }
                    }
                }
            }
        }
    });
    update();
}

function toggleCheck(id) {
    const cb = document.getElementById(id);
    cb.checked = !cb.checked;
    update();
}

function toggleDetails() {
    const el = document.getElementById('detailSection');
    const btn = document.querySelector('.detail-btn');
    if (el.style.display === 'block') {
        el.style.display = 'none';
        btn.innerText = 'â„¹ï¸ æ „é¤Šç´ ã®è©³ç´°è§£èª¬ã‚’è¦‹ã‚‹ (éå‰°æ‘‚å–ã«ã¤ã„ã¦)';
    } else {
        el.style.display = 'block';
        btn.innerText = 'ğŸ”¼ è§£èª¬ã‚’é–‰ã˜ã‚‹';
        el.scrollIntoView({ behavior: 'smooth' });
    }
}

function update() {
    const gender = document.getElementById('gender').value;
    const age = document.getElementById('age').value;
    const mealKey = document.getElementById('meal').value;
    const isLP = document.getElementById('lpCheck').checked;
    const isTRME = document.getElementById('trmeCheck').checked;

    document.getElementById('lpCard').className = isLP ? 'switch-box lp-active' : 'switch-box';
    document.getElementById('trmeCard').className = isTRME ? 'switch-box trme-active' : 'switch-box';

    const rda = RDA[gender][age];
    const meal = foods[mealKey];
    
    // ãƒ‡ãƒ¼ã‚¿è¨ˆç®—
    const mealP = keys.map(k => (meal[k] / rda[k]) * 100);
    const lpP = keys.map(k => isLP ? (lpData[k] / rda[k]) * 100 : 0);
    const trmeP = keys.map(k => isTRME ? (trmeData[k] / rda[k]) * 100 : 0);

    // ç©ã¿ä¸Šã’é †: é£Ÿäº‹(é’) -> N+(ç·‘) -> Smoothie(ã‚ªãƒ¬ãƒ³ã‚¸)
    chart.data.datasets[0].data = mealP;
    chart.data.datasets[1].data = lpP;
    chart.data.datasets[2].data = trmeP;
    
    chart.update();

    // åˆ†æãƒ†ã‚­ã‚¹ãƒˆ
    let text = "";
    if (mealKey === 'none') {
        text = "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§è£½å“ã‚’è¿½åŠ ã™ã‚‹ã¨ã€æ „é¤Šç´ ãŒç©ã¿ä¸Šã’ã‚‰ã‚Œã¾ã™ã€‚";
    } else {
        const mealName = document.getElementById('meal').options[document.getElementById('meal').selectedIndex].text;
        text = `<strong>ã€${mealName}ã€‘ã‚’åˆ†æä¸­ï¼š</strong><br>`;
        
        if (isLP && isTRME) {
            text += "âœ… <strong>ãƒãƒ«ãƒãƒ“ã‚¿ãƒŸãƒ³N+(ç·‘) ï¼‹ ã‚¹ãƒ ãƒ¼ã‚¸ãƒ¼P(æ©™)ï¼š</strong><br>ç†æƒ³çš„ãªçµ„ã¿åˆã‚ã›ã§ã™ã€‚N+ã§ã€Œå¾®é‡æ „é¤Šç´ ã€ã®ãƒ™ãƒ¼ã‚¹ã‚’ä½œã‚Šã€ãã®ä¸Šã«ã‚¹ãƒ ãƒ¼ã‚¸ãƒ¼Pã§ã€ŒãŸã‚“ã±ãè³ªã€ã‚’ä¸Šä¹—ã›ã—ã¾ã—ãŸã€‚ã‚°ãƒ©ãƒ•ãŒå…¨ä½“çš„ã«100%ã‚’è¶…ãˆã€ä»£è¬ã®è‰¯ã„çŠ¶æ…‹ãŒä½œã‚Œã¾ã™ã€‚";
        } else if (isLP) {
            text += "ğŸ’Š <strong>ãƒãƒ«ãƒãƒ“ã‚¿ãƒŸãƒ³N+(ç·‘)ã‚’è¿½åŠ ï¼š</strong><br>ã€Œé£Ÿäº‹ã®ãƒãƒ¼ã€ã®ä¸Šã«ç·‘è‰²ã®ãƒãƒ¼ãŒç©ã¿é‡ãªã‚Šã¾ã—ãŸã€‚ãƒ“ã‚¿ãƒŸãƒ³ãƒ»ãƒŸãƒãƒ©ãƒ«ãŒä¸€æ°—ã«100%ãƒ©ã‚¤ãƒ³ã‚’è¶…ãˆã¾ã—ãŸãŒã€ãŸã‚“ã±ãè³ªï¼ˆã‚ªãƒ¬ãƒ³ã‚¸è‰²ä¸è¶³ï¼‰ã¯ã¾ã ä½™è£•ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚";
        } else if (isTRME) {
            text += "ğŸ¥¤ <strong>ã‚¹ãƒ ãƒ¼ã‚¸ãƒ¼P(æ©™)ã‚’è¿½åŠ ï¼š</strong><br>ã€ŒãŸã‚“ã±ãè³ªã€ã®ãƒãƒ¼ã«ã‚ªãƒ¬ãƒ³ã‚¸è‰²ãŒå¤§ããä¹—ã‚Šã¾ã—ãŸã€‚ç­‹è‚‰ã®ææ–™ã¯ç¢ºä¿ã§ãã¾ã—ãŸãŒã€ç·‘è‰²ã®ãƒãƒ¼ï¼ˆãƒ“ã‚¿ãƒŸãƒ³é¡ï¼‰ãŒãªã„ãŸã‚ã€ä»£è¬åŠ¹ç‡ã¯ã¾ã ä¸Šã’ã‚‰ã‚Œã¾ã™ã€‚";
        } else {
            text += "âš ï¸ <strong>é£Ÿäº‹ã®ã¿ï¼š</strong><br>èµ¤ã„ç‚¹ç·šï¼ˆ1é£Ÿåˆ†ã‚’100%ï¼‰ã«å±Šã„ã¦ã„ãªã„é …ç›®ãŒå¤šã„ã§ã™ã€‚";
        }
    }
    document.getElementById('analysis').innerHTML = text;
}

window.onload = init;
</script>

</body>
</html>
